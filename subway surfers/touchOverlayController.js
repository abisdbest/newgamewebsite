!function(e){var s={};function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},r.t=function(i,t){if(1&t&&(i=r(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.u)return i;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var s in i)r.d(e,s,function(t){return i[t]}.bind(null,s));return e},r.n=function(t){var i=t&&t.u?function(){return t.default}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="",r(r.s=0)}([function(t,i,e){"use strict";e.r(i);var x=function t(i,e,s,r,n,a){var o=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),h.call(this),this.domElement=document.createElement("div"),this.base=r?this.buildDpad(this.domElement,i[0]):this.buildJstick(this.domElement,i[0],!0),this.dpadMode=r,this.pad=this.buildJstick(this.domElement,i[1],!1),this.pad.style.pointerEvents="none",r&&(this.pad.style.opacity=0),e.appendChild(this.domElement),this.startX=0,this.startY=0,this.difX=0,this.difY=0,this.makeAbsolute(this.domElement,"50%"),this.makeAbsolute(this.base,"0%",!0),this.makeAbsolute(this.pad,"0%",!0),this.addListeners(s?this.base:e),this.radius=i[0][0]-i[1][0],this.radiusSquared=this.radius*this.radius-i[1][0],this.fixed=s,this.sleepOpacity=n,this.sleepTimer=a,this.sleepTimer&&(this.domElement.style.opacity=this.sleepOpacity),this.boundingRect=null,window.currentVirtualTouchIDs=[],window.addEventListener("resize",function(){o.boundingRect=o.base.getBoundingClientRect()}),this.minMovementMargin=r?this.radius/2:this.radius/5,this.baseTranslate="translate(-50%, -50%)"},h=function(){var a=this;this.buildDpad=function(t,i){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.innerHTML='<svg viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_d)"><mask id="a" maskUnits="userSpaceOnUse" x="4" y="0" width="131" height="131" fill="#000"><path fill="#fff" d="M4 0h131v131H4z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M53 2a8 8 0 00-8 8v32H14a8 8 0 00-8 8v32a8 8 0 008 8h31v31a8 8 0 008 8h32a8 8 0 008-8V90h32a8 8 0 008-8V50a8 8 0 00-8-8H93V10a8 8 0 00-8-8H53z"/></mask><g filter="url(#filter1_iiii)"><path fill-rule="evenodd" clip-rule="evenodd" d="M53 2a8 8 0 00-8 8v32H14a8 8 0 00-8 8v32a8 8 0 008 8h31v31a8 8 0 008 8h32a8 8 0 008-8V90h32a8 8 0 008-8V50a8 8 0 00-8-8H93V10a8 8 0 00-8-8H53z" fill="#636668"/></g><path d="M45 42v2h2v-2h-2zM6 82h2-2zm39 8h2v-2h-2v2zm48 0v-2h-2v2h2zm0-48h-2v2h2v-2zM47 10a6 6 0 016-6V0c-5.523 0-10 4.477-10 10h4zm0 32V10h-4v32h4zm-33 2h31v-4H14v4zm-6 6a6 6 0 016-6v-4C8.477 40 4 44.477 4 50h4zm0 32V50H4v32h4zm6 6a6 6 0 01-6-6H4c0 5.523 4.477 10 10 10v-4zm31 0H14v4h31v-4zm2 33V90h-4v31h4zm6 6a6 6 0 01-6-6h-4c0 5.523 4.477 10 10 10v-4zm32 0H53v4h32v-4zm6-6a6 6 0 01-6 6v4c5.523 0 10-4.477 10-10h-4zm0-31v31h4V90h-4zm34-2H93v4h32v-4zm6-6a6 6 0 01-6 6v4c5.523 0 10-4.477 10-10h-4zm0-32v32h4V50h-4zm-6-6a6 6 0 016 6h4c0-5.523-4.477-10-10-10v4zm-32 0h32v-4H93v4zm-2-34v32h4V10h-4zm-6-6a6 6 0 016 6h4c0-5.523-4.477-10-10-10v4zM53 4h32V0H53v4z" fill="#272A2C" mask="url(#a)"/><g filter="url(#filter2_dii)"><path d="M67.268 16c.77-1.333 2.694-1.333 3.464 0l8.66 15c.77 1.333-.192 3-1.732 3H60.34c-1.54 0-2.502-1.667-1.732-3l8.66-15z" fill="#636668"/></g><g filter="url(#filter3_dii)"><path d="M70.732 115c-.77 1.333-2.694 1.333-3.464 0l-8.66-15c-.77-1.333.192-3 1.732-3h17.32c1.54 0 2.502 1.667 1.732 3l-8.66 15z" fill="#636668"/></g><g filter="url(#filter4_dii)"><path d="M120 64.268c1.333.77 1.333 2.694 0 3.464l-15 8.66c-1.333.77-3-.192-3-1.732V57.34c0-1.54 1.667-2.502 3-1.732l15 8.66z" fill="#636668"/></g><g filter="url(#filter5_dii)"><path d="M20 67.732c-1.333-.77-1.333-2.694 0-3.464l15-8.66c1.333-.77 3 .192 3 1.732v17.32c0 1.54-1.667 2.502-3 1.732l-15-8.66z" fill="#636668"/></g><g filter="url(#filter6_di)"><circle cx="69" cy="66" r="14" fill="#636668"/></g></g><defs><filter id="filter0_d" x="0" y="0" width="139" height="139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter><filter id="filter1_iiii" x="4" y="-4" width="132" height="139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0.494118 0 0 0 0 0.501961 0 0 0 0 0.501961 0 0 0 1 0"/><feBlend in2="shape" result="effect1_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dx="1" dy="-4"/><feGaussianBlur stdDeviation="6"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend in2="effect1_innerShadow" result="effect2_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="2"/><feGaussianBlur stdDeviation=".5"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/><feBlend in2="effect2_innerShadow" result="effect3_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0.0708333 0 0 0 0 0.0708333 0 0 0 0 0.0708333 0 0 0 1 0"/><feBlend in2="effect3_innerShadow" result="effect4_innerShadow"/></filter><filter id="filter2_dii" x="56.337" y="13" width="25.326" height="23" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1.5"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend in2="shape" result="effect2_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="effect2_innerShadow" result="effect3_innerShadow"/></filter><filter id="filter3_dii" x="56.337" y="95" width="25.326" height="23" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1.5"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend in2="shape" result="effect2_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="effect2_innerShadow" result="effect3_innerShadow"/></filter><filter id="filter4_dii" x="100" y="53.337" width="23" height="25.326" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1.5"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend in2="shape" result="effect2_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="effect2_innerShadow" result="effect3_innerShadow"/></filter><filter id="filter5_dii" x="17" y="53.337" width="23" height="25.326" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0 0.679167 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="1.5"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend in2="shape" result="effect2_innerShadow"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="effect2_innerShadow" result="effect3_innerShadow"/></filter><filter id="filter6_di" x="53" y="50" width="32" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="1"/><feColorMatrix values="0 0 0 0 0.629167 0 0 0 0 0.629167 0 0 0 0 0.629167 0 0 0 0.25 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="4"/><feGaussianBlur stdDeviation="4"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend in2="shape" result="effect2_innerShadow"/></filter></defs></svg>',e.style.width=1.2*(2*i[0]+i[1])+"px",e.style.height=1.2*(2*i[0]+i[1])+"px",e.style.pointerEvents="all",e.setAttribute("id","vjs_dpad"),t.appendChild(e),e},this.buildJstick=function(t,i,e){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.innerHTML=e?'<svg viewBox="-1 -1 266 266"  fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_i)"><circle cx="133" cy="133" r="133" fill="#6D6E70"/><circle cx="133" cy="133" r="133" fill="url(#paint0_linear)"/></g><circle cx="133" cy="133" r="132" stroke="#3E3E3E" stroke-width="2"/><g filter="url(#filter1_i)"><path d="M62.375 62.255l69.371-28.297 70.208 28.297 30.089 68.248-30.089 70.745-70.208 30.795-68.536-29.131-29.252-72.409 28.417-68.248z" fill="#404041"/><path d="M62.375 62.255l69.371-28.297 70.208 28.297 30.089 68.248-30.089 70.745-70.208 30.795-68.536-29.131-29.252-72.409 28.417-68.248z" fill="url(#paint1_radial)"/></g><g filter="url(#filter2_i)"><path d="M8.49 133.707l14.856-10.415v20.831L8.489 133.707z" fill="#4B4949"/></g><g filter="url(#filter3_i)"><path d="M257.511 133.707l-14.857 10.416v-20.831l14.857 10.415z" fill="#4B4949"/></g><g filter="url(#filter4_i)"><path d="M132.293 11.32l10.415 14.856h-20.831l10.416-14.857z" fill="#525151"/></g><g filter="url(#filter5_i)"><path d="M132.293 254.681l-10.416-14.857h20.831l-10.415 14.857z" fill="#2F2E2E"/></g><defs><filter id="filter0_i" x="0" y="0" width="266" height="270" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="4"/><feGaussianBlur stdDeviation="8"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><filter id="filter1_i" x="33.958" y="33.958" width="198.085" height="198.085" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-1"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><filter id="filter2_i" x="8.489" y="123.292" width="14.856" height="20.831" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-1"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><filter id="filter3_i" x="242.654" y="123.292" width="14.856" height="20.831" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-1"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><filter id="filter4_i" x="121.877" y="11.319" width="20.831" height="14.856" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-1"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><filter id="filter5_i" x="121.877" y="239.824" width="20.831" height="14.856" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="-1"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"/><feBlend in2="shape" result="effect1_innerShadow"/></filter><radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(90 0 133) scale(99.0426)"><stop stop-color="#212127"/><stop offset="1" stop-color="#404041"/></radialGradient><linearGradient id="paint0_linear" x1="133" y1="0" x2="133" y2="266" gradientUnits="userSpaceOnUse"><stop stop-color="#6D6E70"/><stop offset="1" stop-color="#4C4C4D"/></linearGradient></defs></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><circle cx="96" cy="96" r="96" fill="#ff7690"/><path d="M55.6 40C45.4 42.2 38.9 56 33 54.4c-4.8-1.7-6.1-7.3-2.7-12 5-6.1 13.9-18.3 20.6-18.1 16 .4 14.9 13.4 4.7 15.7z" opacity=".6" fill="#fff"/></svg>',s.style.width=2*i[0]+i[1]+"px",s.style.height=2*i[0]+i[1]+"px",s.style.pointerEvents="all",t.appendChild(s),s},this.buildCircle=function(t,i){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.innerHTML=a.drawCircle(i[0],i[1],i[2],i[1]),e.style.width=2*i[0]+i[1]+"px",e.style.height=2*i[0]+i[1]+"px",e.style.pointerEvents="all",t.appendChild(e),e},this.makeAbsolute=function(t,i,e){t.style.position="absolute",t.style.top=i,t.style.left=i,e&&(t.style.transform="translate(-50%, -50%)")},this.drawCircle=function(t,i,e,s){return"<circle cx="+(t+s/2)+" cy="+(t+s/2)+' r="'+t+'" stroke="'+e+'" stroke-width="'+s+'" fill="'+i+'" />'},this.addListeners=function(t){t.addEventListener("touchstart",a.touchStart,{passive:!1}),t.addEventListener("touchend",a.touchEnd,{passive:!1}),t.addEventListener("touchmove",a.touchMove,{passive:!1})},this.touchStart=function(t){if(void 0===a.iD){for(var i=void 0,e=0;e<t.changedTouches.length;e++)if(!window.currentVirtualTouchIDs.includes(t.changedTouches[e].identifier)){i=t.changedTouches[e],a.iD=i.identifier,window.currentVirtualTouchIDs.push(a.iD);break}void 0!==a.iD&&(a.boundingRect||(a.boundingRect=a.base.getBoundingClientRect()),a.startX=i.clientX,a.startY=i.clientY,a.fixed?(a.startX-=i.clientX-(a.boundingRect.left+a.boundingRect.width/2),a.startY-=i.clientY-(a.boundingRect.top+a.boundingRect.height/2)):(a.domElement.style.top=a.startY+"px",a.domElement.style.left=a.startX+"px"),a.pad.style.transition="",a.touchMove(t),a.domElement.style.transition="",a.sleepTimer&&(a.domElement.style.opacity=1),t.preventDefault())}},this.touchEnd=function(t){for(var i=0;i<t.changedTouches.length;i++)t.changedTouches[i].identifier===a.iD&&(a.pad.style.top="0px",a.pad.style.left="0px",a.pad.style.transition="all .1s ease-in",a.sleepTimer&&(a.domElement.style.transition="opacity "+(a.sleepTimer/1e3).toFixed(3)+"s ease-in .3s",a.domElement.style.opacity=a.sleepOpacity),window.currentVirtualTouchIDs=window.currentVirtualTouchIDs.filter(function(t){return t!==a.iD}),a.iD=void 0);a.difX=0,a.difY=0,a.dpadMode&&(a.base.style.transform=""+a.baseTranslate),t.preventDefault()},this.touchMove=function(t){if(void 0!==a.iD){for(var i=void 0,e=0;e<t.changedTouches.length;e++)t.changedTouches[e].identifier===a.iD&&(i=t.changedTouches[e]);a.difX=i.clientX-a.startX,a.difY=i.clientY-a.startY;var s=a.difX*a.difX+a.difY*a.difY;a.realForce=s/a.radiusSquared;var r=Math.atan2(a.difY,a.difX);if(s>a.radiusSquared&&(a.difX=a.radius*Math.cos(r),a.difY=a.radius*Math.sin(r)),a.pad.style.top=a.difY+"px",a.pad.style.left=a.difX+"px",a.dpadMode){var n="perspective(300px)";a.left()?a.base.style.transform=a.baseTranslate+" "+n+" rotateY(-10deg)":a.right()?a.base.style.transform=a.baseTranslate+" "+n+" rotateY(10deg)":a.up()?a.base.style.transform=a.baseTranslate+" "+n+" rotateX(10deg)":a.down()?a.base.style.transform=a.baseTranslate+" "+n+" rotateX(-10deg)":a.base.style.transform=""+a.baseTranslate}t.preventDefault()}},this.left=function(){return a.difX<-a.minMovementMargin&&a.cS(a.difX,a.difY)},this.right=function(){return a.difX>a.minMovementMargin&&a.cS(a.difX,a.difY)},this.up=function(){return a.difY<-a.minMovementMargin&&a.cS(a.difY,a.difX)},this.down=function(){return a.difY>a.minMovementMargin&&a.cS(a.difY,a.difX)},this.angle=function(){return Math.atan2(a.difY,a.difX)},this.normal=function(){return{x:a.difX/a.sQ()||0,y:a.difY/a.sQ()||0}},this.force=function(){return Math.min(1,a.sQ()/a.radius)},this.cS=function(t,i){return Math.abs(i)<2*Math.abs(t)},this.sQ=function(){return Math.sqrt(a.difX*a.difX+a.difY*a.difY)}},l={LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,BKSP:8,TAB:9,ALT:18,CTRL:17,SPACE:32,SHIFT:16,ESC:27},r=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}();var g=function(){function s(t,i,e){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,s),this.buildKey=function(t,i){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=["#83FFE7","#FFC2D6","#EAC0FC","#FAEB59"],r=["#15C8D1","#FF7690","#C977E8","#FF9E00"];return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 83.6 84.6"><circle cx="42.8" cy="43.5" r="38.9" fill="'+r[i%4]+'"/><circle cx="40.5" cy="41" r="38.9" fill="'+s[i%4]+'"/><path d="M21.3 20.5c-4.1.9-6.7 6.1-9 5.5-1.9-.7-2.4-2.8-1.1-4.6 2-2.3 5.5-7.1 8.2-7 6.4.2 6 5.2 1.9 6.1zm-8.1 11.2c.3 1.8-2.5 5.1-4.3 5.6-1.6.3-2.8-1.1-2.5-3 .5-2.6 1-4.6 2.5-4.9 1.5-.3 4 .5 4.3 2.3z" opacity=".6" fill="#fff"/></svg>',e.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 173 173" xml:space="preserve"><style>.st2{opacity:.6;fill:#fff;enable-background:new}</style><circle cx="85.5" cy="85.5" r="85.5" fill="'+s[i%4]+'"/><circle cx="85.5" cy="85.5" r="84.5" fill="none" stroke="'+r[i%4]+'" stroke-width="2"/><path class="st2" d="M43.2 40.2c-8.9 1.9-14.6 13.5-19.9 12.2-4.2-1.5-5.3-6.2-2.4-10.2 4.4-5.2 12.1-15.5 18-15.3 14.2.4 13.3 11.5 4.3 13.3zM25.4 65c.7 4-5.5 11.2-9.6 12.2-3.5.6-6.1-2.5-5.6-6.7 1-5.6 2.1-10.2 5.6-10.8 3.5-.5 9 1.3 9.6 5.3z"/></svg>',e.style.width=n.settings.buttonSize+"px",e.style.height=n.settings.buttonSize+"px",t.appendChild(e),e},this.settings={buttons:[],startX:150,startY:150,numColumns:2,buttonColumnYSpread:10,buttonSize:60,buttonMargin:15,buttonColor:"white",lineThickness:2,sleepOpacity:.5,sleepTimer:500},this.listener=i,this.settings=Object.assign({},this.settings,e),this.targetElement=t,this.buildKeys()}return r(s,[{key:"buildKeys",value:function(){var a=this,o=0;this.domElement=document.createElement("div"),this.domElement.style.position="absolute",this.settings.sleepTimer&&(this.domElement.style.opacity=this.settings.sleepOpacity),this.gridElement=document.createElement("div"),this.gridElement.style.position="absolute",this.gridElement.style.left=0,this.gridElement.style.top=0;var t=this.settings.buttonSize/2*.9,h=[[{offsetX:0,offsetY:0}],[{offsetX:t,offsetY:-t},{offsetX:-t,offsetY:t}],[{offsetX:t+t/2,offsetY:t-t},{offsetX:t/2-t,offsetY:t+t},{offsetX:-1.5*t,offsetY:-.75*t}],[{offsetX:0,offsetY:2*-t},{offsetX:2*-t,offsetY:0},{offsetX:0,offsetY:2*t},{offsetX:2*t,offsetY:0}]];this.settings.buttons.forEach(function(e){e=e.toUpperCase();var t=a.settings.buttons.length-1,s=document.createElement("div");s.style="\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:"+h[t][o].offsetY+"px;\n\t\t\t\tleft:"+h[t][o].offsetX+"px;\n\t\t\t\ttransform:translate(-50%,-50%);\n\t\t\t",a.buildKey(s,o);var i=document.createElement("span");i.innerText=e,i.style="\n\t\t\tposition:absolute;\n\t\t\ttop:"+a.settings.buttonSize/2+"px;\n\t\t\tleft:"+a.settings.buttonSize/2+"px;\n\t\t\ttransform:translate(-50%,-50%);\n\t\t\tfont-size:16px;\n\t\t\tfont-weight:700;\n\t\t\tcolor:#002B50;\n\t\t\tfont-family:sans-serif;\n\t\t\t",s.appendChild(i),1<e.length&&(i.style.fontSize="8px"),s.style.userSelect="none";var r=function(t){var i=l[e]||e.charCodeAt(0);a.listener("keydown",i),s.style.filter="brightness(0.5)",t.preventDefault(),a.settings.sleepTimer&&(a.domElement.style.transition="",a.domElement.style.opacity=1)},n=function(t){var i=l[e]||e.charCodeAt(0);a.listener("keyup",i),s.style.filter="unset",t.preventDefault(),a.settings.sleepTimer&&(a.domElement.style.transition="opacity "+(a.settings.sleepTimer/1e3).toFixed(3)+"s ease-in .3s",a.domElement.style.opacity=a.settings.sleepOpacity)};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),s.addEventListener("mouseup",n),s.addEventListener("touchend",n),a.gridElement.appendChild(s),o++}),this.domElement.appendChild(this.gridElement),this.targetElement.appendChild(this.domElement)}}]),s}(),p=function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],s=!0,r=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done)&&(e.push(a.value),!i||e.length!==i);s=!0);}catch(t){r=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}();function f(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return Array.from(t)}var n=new(function(){function e(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=null,this.joystick=null,this.buttons=[],this.sprites={},this.active=!1,this.joystickElement=null,this.secondJoystickElement=null,this.buttonsElement=null,this.buttonsGridElement=null,this.joystickStick=null,this.joystickShadow=null,this.secondJoystickStick=null,this.secondJoystickShadow=null,this.dpad=null,this.secondDpad=null,this.buttonBlacks=[],this.buttonWhites=[];var t=window.location.search,i=new URLSearchParams(t);this.spriteScale=parseFloat(i.get("uiscale")||1)}return s(e,[{key:"setTarget",value:function(t){this.target=t,this.target.domElement.style.visibility="hidden"}},{key:"load",value:function(e){var r=this,t=[new Promise(function(t){var i=new Image;i.src=e+".png",i.onload=function(){t(i)}}),new Promise(function(i){fetch(e+".json").then(function(t){return t.json()}).then(function(t){i(t)})})];Promise.all(t).then(function(t){var i=t[0]instanceof HTMLImageElement,e=i?t[0]:t[1],s=i?t[1]:t[0];r.parseSprites(e,s).then(function(){r.placeSprites();var t=new CustomEvent("tOCParsed");t.skinner=r,document.dispatchEvent(t)})})}},{key:"parseSprites",value:function(l,f){var u=this,c=document.createElement("canvas"),d=c.getContext("2d");return new Promise(function(t){var i=function(i,t){d.clearRect(0,0,c.width,c.height);var e=t.frame,s=e.x,r=e.y,n=e.w,a=e.h;if(c.width=n,c.height=a,d.drawImage(l,s,r,n,a,0,0,n,a),u.sprites[i]=u.rescaleImage(d.getImageData(0,0,n,a),u.spriteScale),i.startsWith("_black_")){d.clearRect(0,0,c.width,c.height),d.drawImage(l,s,r,n,a,0,0,n,a),["white"].forEach(function(t){d.globalCompositeOperation="source-in",d.fillStyle=t,d.rect(0,0,c.width,c.height),d.fill(),u.sprites[""+i.replace("_black_","_"+t+"_")]=u.rescaleImage(d.getImageData(0,0,n,a),u.spriteScale)})}},e=!0,s=!1,r=void 0;try{for(var n,a=Object.entries(f.frames)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value,h=p(o,2);i(h[0],h[1])}}catch(t){s=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw r}}t()})}},{key:"rescaleImage",value:function(t,i){var e=t.data,s=t.width,r=document.createElement("canvas");r.width=t.width*i,r.height=t.height*i;for(var n=r.getContext("2d"),a=n.createImageData(t.width*i,t.height*i),o=a.data,h=1/i,l=0,f=0;f<a.height;f+=1)for(var u=(f*h|0)*s,c=0;c<a.width;c+=1){var d=u+c*h<<2;o[l]=e[d],o[l+1]=e[1+d],o[l+2]=e[2+d],o[l+3]=e[3+d],l+=4}return n.putImageData(a,0,0),r.toDataURL()}},{key:"placeSprites",value:function(){var r=this;if(this.target){if(this.joystickElement=this.target.virtualJoystick.domElement,this.target.settings.dpad){this.dpad=this.joystickElement.appendChild(this.createImage(this.sprites["dpad.png"])),this.joystickElement.querySelector("#vjs_dpad").querySelector("svg").style.opacity=0;var t=this.joystickElement.appendChild(this.createImage(this.sprites["_black_dpad.png"]));t.style.opacity=0,t.classList.add("black"),t.style.marginTop="-2px";var i=this.joystickElement.appendChild(this.createImage(this.sprites["_white_dpad.png"]));i.style.opacity=0,i.classList.add("white"),i.style.marginTop="-2px"}else{[].concat(f(this.joystickElement.children)).forEach(function(t){t.querySelector("svg").style.opacity=0});this.joystickElement.appendChild(this.createImage(this.sprites["stick_hole.png"]));this.joystickShadow=this.joystickElement.appendChild(this.createImage(this.sprites["stick_shadow.png"]));this.joystickElement.appendChild(this.createImage(this.sprites["stick_bottom.png"]));this.joystickStick=this.joystickElement.appendChild(this.createImage(this.sprites["stick.png"])),this.joystickStick.style.zIndex=997;var e=this.joystickElement.appendChild(this.createImage(this.sprites["_black_stick.png"]));e.style.opacity=0,e.classList.add("black"),e.style.zIndex=998;var s=this.joystickElement.appendChild(this.createImage(this.sprites["_white_stick.png"]));s.style.opacity=0,s.classList.add("white"),s.style.zIndex=998}if(this.target.settings.secondJoystickEnabled)if(this.secondJoystickElement=this.target.secondVirtualJoystick.domElement,this.target.settings.secondDpad){this.secondDpad=this.secondJoystickElement.appendChild(this.createImage(this.sprites["dpad.png"])),this.seco.querySelector("#vjs_dpad").querySelector("svg").style.opacity=0;var n=this.secondJoystickElement.appendChild(this.createImage(this.sprites["_black_dpad.png"]));n.style.opacity=0,n.classList.add("black"),n.style.marginTop="-2px";var a=this.secondJoystickElement.appendChild(this.createImage(this.sprites["_white_dpad.png"]));a.style.opacity=0,a.classList.add("white"),a.style.marginTop="-2px"}else{[].concat(f(this.secondJoystickElement.children)).forEach(function(t){t.querySelector("svg").style.opacity=0});this.secondJoystickElement.appendChild(this.createImage(this.sprites["stick_hole.png"]));this.secondJoystickShadow=this.secondJoystickElement.appendChild(this.createImage(this.sprites["stick_shadow.png"]));this.secondJoystickElement.appendChild(this.createImage(this.sprites["stick_bottom.png"]));this.secondJoystickStick=this.secondJoystickElement.appendChild(this.createImage(this.sprites["stick.png"])),this.secondJoystickStick.style.zIndex=997;var o=this.secondJoystickElement.appendChild(this.createImage(this.sprites["_black_stick.png"]));o.style.opacity=0,o.classList.add("black"),o.style.zIndex=998;var h=this.secondJoystickElement.appendChild(this.createImage(this.sprites["_white_stick.png"]));h.style.opacity=0,h.classList.add("white"),h.style.zIndex=998}this.buttonsElement=this.target.overlayButtons.domElement,this.buttonsGridElement=this.target.overlayButtons.gridElement;var l=1===this.buttonsGridElement.children.length?"big":"small";[].concat(f(this.buttonsGridElement.children)).forEach(function(t){t.style.opacity=0;var i=r.createImage(r.sprites["_white_"+l+".png"]);r.buttonsElement.prepend(i),i.style.opacity=0,i.classList.add("white"),i.style.marginTop="-2px",r.buttonWhites.push(i);var e=r.createImage(r.sprites["_black_"+l+".png"]);r.buttonsElement.prepend(e),e.style.opacity=0,e.classList.add("black"),e.style.marginTop="-2px",r.buttonBlacks.push(e);var s=r.createImage(r.sprites[l+".png"]);s.style.transition="opacity 0.458s",r.buttonsElement.prepend(s),r.buttons.push(s)}),this.target.settings.gameplayEnable&&this.target.setUIVisibility(!1),this.resize(),window.addEventListener("resize",this.resize.bind(this)),document.addEventListener("keydown",function(t){r.handleKeyDown(t,!0)}),document.addEventListener("keyup",function(t){r.handleKeyDown(t,!1)}),this.target.domElement.style.visibility="visible",this.active=!0}}},{key:"handleKeyDown",value:function(t,i){var e=this.target.overlayButtons.settings.buttons;if(parseFloat(this.target.domElement.style.opacity)>this.target.settings.offOpacity)for(var s=1===this.buttonsGridElement.children.length?"big":"small",r=0;r<e.length;r++){var n=e[r].toUpperCase(),a=l[n]||n.charCodeAt(0);t.keyCode===a&&(this.buttons[r].src=i?this.sprites[s+"_down.png"]:this.sprites[s+".png"])}else window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(0)}},{key:"resize",value:function(){var r=this,n=0,a=this.buttonsGridElement.getBoundingClientRect();[].concat(f(this.buttonsGridElement.children)).forEach(function(t){var i=t.firstChild.getBoundingClientRect(),e=-a.top+i.top+i.height/2,s=-a.left+i.left+i.width/2;r.buttons[n].style.left=s+"px",r.buttons[n].style.top=e+"px",r.buttonWhites[n].style.left=s+"px",r.buttonWhites[n].style.top=e+"px",r.buttonBlacks[n].style.left=s+"px",r.buttonBlacks[n].style.top=e+"px",n++})}},{key:"createImage",value:function(t){var i=new Image;return i.src=t,i.style.position="absolute",i.style.transform="translate(-50%, -50%)",i.style.imageRendering="pixelated",i}},{key:"updateJoystick",value:function(t,i,e,s){var r=t.difX,n=t.difY,a=t.radius,o=Math.sqrt(n*n+r*r);if(i){if(this.dpad.src=this.sprites["dpad.png"],.5*a<o){var h=Math.atan2(n,r)+Math.PI/2,l=2*Math.PI/8,f=Math.round(h/l);f<0&&(f=8+f),f=Math.abs(f),this.dpad.src=this.sprites["dpad_"+f+".png"]}}else{if(a<o){var u=Math.atan2(n,r);r=a*Math.cos(u),n=a*Math.sin(u)}e.style.left=r+"px",e.style.top=n+"px",s.style.left=r+"px",s.style.top=parseInt(n,10)+10+"px"}}},{key:"update",value:function(){this.active&&(this.updateJoystick(this.target.virtualJoystick,this.target.settings.dpad,this.joystickStick,this.joystickShadow),this.target.settings.secondJoystickEnabled&&this.updateJoystick(this.target.secondVirtualJoystick,this.target.settings.secondDpad,this.secondJoystickStick,this.secondJoystickShadow))}}]),e}()),a=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}();var m=new(function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.poweredByPokiSVG=null,this.singleButtonBGSVG=null,this.dualButtonBGSVG1=null,this.dualButtonBGSVG2=null,this.grill=null,this.blackFrame=null}return a(t,[{key:"init",value:function(t){this.target=t,this.placeSprites(),window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"placeSprites",value:function(){var t="#7E91AB";document.documentElement.style.backgroundColor=t,document.body.style.backgroundColor=t,this.blackFrame=this.target.domElement.parentNode.appendChild(document.createElement("div")),this.blackFrame.style.background="black",this.blackFrame.style.position="absolute",this.blackFrame.style.borderRadius="2%",this.poweredByPokiSVG=this.buildSVG('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 134 27"><g opacity=".5"><path d="M98 11.9c0-4.1 3.5-7.5 7.5-7.5 4.1 0 7.5 3.4 7.5 7.5 0 4.3-3.4 7.7-7.5 7.7S98 16.2 98 11.9zm-10.1 2.4V9.7h2.6c.7 0 1.8.4 1.8 2.2 0 1.1-.5 2.4-1.7 2.4h-2.7zm31-14.3v9.1c1.5-.5 2.1-1.3 2.2-3V4.8h5.3v1.4c-.1 1.7-.6 4.1-2 5.8l3 6.5V8.7h6.5v10.5h-12l-2.3-4.9-.7.2v4.8h-4.6c-.1.2-.3.3-.4.5-2 2.2-4.8 3.4-8.2 3.4-3.5 0-6.4-1.2-8.4-3.4-.6-.7-1.1-1.5-1.6-2.4-1.3 1.4-3.1 2.1-5.3 2.1h-2.5V24H83V4.8h7.4c2.2 0 4 .6 5.3 1.9.4-.8.9-1.6 1.5-2.3 2-2.3 4.9-3.5 8.4-3.5 3.2 0 5.9 1.1 7.9 3.1V0h5.4zm11.8.8c1.8 0 3.3 1.5 3.3 3.3 0 1.9-1.5 3.4-3.3 3.4s-3.3-1.5-3.3-3.4c-.1-1.8 1.5-3.3 3.3-3.3z" fill-rule="evenodd" clip-rule="evenodd" fill="#4e617b"/><path d="M105.6 12.5c-3.3 0-5 .6-5.7.8.6 2.7 2.9 4.7 5.7 4.7s5.1-2 5.7-4.7c-.7-.3-2.4-.8-5.7-.8z" fill-rule="evenodd" clip-rule="evenodd" fill="#667993"/></g><path d="M.9 21h2v-3.3h2.4c2 0 3.1-1.4 3.1-3s-1.1-3-3.1-3H.9V21zm5.5-6.3c0 .8-.6 1.3-1.4 1.3H2.9v-2.5H5c.8-.1 1.4.4 1.4 1.2zm6.1 6.5c2.2 0 3.6-1.6 3.6-3.6 0-1.9-1.3-3.5-3.6-3.5-2.2 0-3.6 1.6-3.6 3.5.1 1.9 1.4 3.6 3.6 3.6zm0-1.6c-1.1 0-1.7-.9-1.7-2 0-1 .6-2 1.7-2s1.7.9 1.7 2c.1 1.1-.6 2-1.7 2zM23.4 21h1.9l2.1-6.8h-1.8l-1.3 4.6-1.5-4.6h-1.6l-1.5 4.6-1.3-4.6h-1.8l2.1 6.8h1.9l1.4-4.6 1.4 4.6zm4.4-3.4c0 2.2 1.6 3.6 3.6 3.6 1.1 0 2.1-.3 2.8-.9l-.8-1.1c-.4.4-1.2.7-1.8.7-1.1 0-1.8-.7-1.9-1.6h5v-.4c0-2.2-1.4-3.7-3.4-3.7-2.1-.1-3.5 1.5-3.5 3.4zm3.5-2.1c1.2 0 1.6.9 1.7 1.5h-3.3c0-.7.4-1.5 1.6-1.5zm4.6 5.5h1.8v-4.5c.3-.4 1.1-.8 1.7-.8.2 0 .4 0 .5.1v-1.7c-.8 0-1.7.5-2.2 1.1v-.9h-1.8V21zm4.6-3.4c0 2.2 1.6 3.6 3.6 3.6 1 0 2.1-.3 2.8-.9l-.8-1.1c-.4.4-1.2.7-1.8.7-1.1 0-1.8-.7-1.9-1.6h5v-.4c0-2.2-1.4-3.7-3.4-3.7-2-.1-3.5 1.5-3.5 3.4zm3.5-2.1c1.2 0 1.6.9 1.7 1.5h-3.3c.1-.7.5-1.5 1.6-1.5zm9.4 5.5h1.8v-9.3h-1.8v3.4c-.5-.7-1.3-1-2.1-1-1.7 0-3 1.3-3 3.6s1.3 3.5 3 3.5c.8 0 1.6-.4 2.1-1v.8zm0-2.2c-.3.4-.9.8-1.5.8-1 0-1.7-.8-1.7-2s.7-2 1.7-2c.6 0 1.2.3 1.5.8v2.4zm7.1 2.2h1.8v-.9c.5.7 1.3 1 2.1 1 1.7 0 3-1.3 3-3.5s-1.3-3.6-3-3.6c-.8 0-1.6.4-2.1 1v-3.4h-1.8V21zm1.8-2.2v-2.4c.3-.4 1-.8 1.5-.8 1 0 1.7.8 1.7 2s-.7 2-1.7 2c-.6 0-1.2-.3-1.5-.8zm6.4 3.2l-.3 1.6c.2.1.7.1.9.1 1.2 0 2.1-.4 2.6-1.6l3.2-7.9h-1.9l-1.8 4.7-1.8-4.7h-1.9l2.7 6.9-.3.6c-.2.4-.5.5-.9.5-.1 0-.3-.1-.5-.2z" fill="#667993"/></svg>'),this.poweredByPokiSVG.style.position="absolute",this.poweredByPokiSVG.style.width="12vw",this.poweredByPokiSVG.style.height="3vw",this.singleButtonBGSVG=this.buildSVG('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 351 351"><g opacity=".5"><path d="M175.5 0C272.4 0 351 78.6 351 175.5S272.4 351 175.5 351 0 272.4 0 175.5 78.6 0 175.5 0z" fill="#bac9de"/><path d="M175.5 1h0C271.9 1 350 79.1 350 175.5h0c0 96.4-78.1 174.5-174.5 174.5h0C79.1 350 1 271.9 1 175.5h0C1 79.1 79.1 1 175.5 1z" fill="none" stroke="#002b50" stroke-width="2" stroke-opacity=".5"/></g></svg>'),this.singleButtonBGSVG.style.position="absolute",this.singleButtonBGSVG.style.transform="translate(-50%, -50%)",this.singleButtonBGSVG.style.width=1.2*this.target.overlayButtons.settings.buttonSize+"px",this.singleButtonBGSVG.style.height=1.2*this.target.overlayButtons.settings.buttonSize+"px";var i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199 198.9"><g opacity=".5"><path d="M14.4 107.1l89.4-89.3c20.4-22.3 55.1-23.9 77.4-3.5s23.9 55.1 3.5 77.4l-89.4 89.4c-20.4 22.3-55.1 23.9-77.4 3.5-22.4-20.5-23.9-55.2-3.5-77.5z" fill="#bac9de"/><path d="M15.1 107.8l89.4-89.3c20.1-21.9 54.1-23.5 76-3.4h0c21.9 20.1 23.5 54.1 3.4 76l-89.4 89.3c-20.1 21.9-54.1 23.5-76 3.4h0c-21.9-20.1-23.4-54.1-3.4-76z" fill="none" stroke="#002b50" stroke-width="2" stroke-opacity=".5"/></g></svg>';this.dualButtonBGSVG1=this.buildSVG(i),this.dualButtonBGSVG1.style.position="absolute",this.dualButtonBGSVG1.style.transform="translate(-50%, -50%)",this.dualButtonBGSVG1.style.width=2.1*this.target.overlayButtons.settings.buttonSize+"px",this.dualButtonBGSVG1.style.height=2.1*this.target.overlayButtons.settings.buttonSize+"px",this.dualButtonBGSVG2=this.buildSVG(i),this.dualButtonBGSVG2.style.position="absolute",this.dualButtonBGSVG2.style.transform="translate(-50%, -50%)",this.dualButtonBGSVG2.style.width=2.1*this.target.overlayButtons.settings.buttonSize+"px",this.dualButtonBGSVG2.style.height=2.1*this.target.overlayButtons.settings.buttonSize+"px",this.grill=this.buildSVG('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 126 72" xml:space="preserve"><style>.st0{fill:#536783}</style><path class="st0" d="M4 0h117.6c2.2 0 4 1.8 4 4s-1.8 4-4 4H4C1.8 8 0 6.2 0 4s1.8-4 4-4zM4 16h117.6c2.2 0 4 1.8 4 4s-1.8 4-4 4H4c-2.2 0-4-1.8-4-4s1.8-4 4-4zM4 32h117.6c2.2 0 4 1.8 4 4s-1.8 4-4 4H4c-2.2 0-4-1.8-4-4s1.8-4 4-4zM4 48h117.6c2.2 0 4 1.8 4 4s-1.8 4-4 4H4c-2.2 0-4-1.8-4-4s1.8-4 4-4zM4 64h117.6c2.2 0 4 1.8 4 4s-1.8 4-4 4H4c-2.2 0-4-1.8-4-4s1.8-4 4-4z"/></svg>'),this.grill.style.position="absolute",this.grill.style.transform="translate(50%, -50%)",this.grill.style.width="10vw",this.grill.style.height="5vw"}},{key:"buildSVG",value:function(t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.innerHTML=t,this.target.domElement.parentNode.appendChild(i),i}},{key:"resize",value:function(){var t=window.innerWidth>window.innerHeight;if(this.target.virtualJoystick.boundingRect=null,t){var i=window.innerHeight,e=window.innerHeight,s=.02*e,r=.1*e;this.blackFrame.style.width=e+r+"px",this.blackFrame.style.height=e-s+"px",this.blackFrame.style.top=s/2+"px",this.blackFrame.style.left=(window.innerWidth-window.innerHeight-r)/2+"px";var n=(window.innerWidth-i-r)/2;this.target.virtualJoystick.domElement.style.left=n/2+"px",this.target.virtualJoystick.domElement.style.top="unset",this.target.virtualJoystick.domElement.style.bottom="80px",this.target.overlayButtons.domElement.style.left="unset",this.target.overlayButtons.domElement.style.right=n/2+"px",this.target.overlayButtons.domElement.style.top="unset",this.target.overlayButtons.domElement.style.bottom="80px",this.target.overlayButtons.domElement.style.paddingLeft="unset",this.poweredByPokiSVG.style.top=10+s+"px",this.poweredByPokiSVG.style.right=i+(window.innerWidth-e)/2+r/2+10+"px",this.poweredByPokiSVG.style.left="unset",this.poweredByPokiSVG.style.width="12vw",this.poweredByPokiSVG.style.height="3vw",this.grill.style.top=n/3+"px",this.grill.style.right=n/2+"px";var a=this.target.overlayButtons.domElement.getBoundingClientRect(),o=this.target.overlayButtons.settings.buttonSize;1===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.left=a.x+"px",this.singleButtonBGSVG.style.top=a.y-2+"px",this.dualButtonBGSVG1.style.top=-1e3,this.dualButtonBGSVG2.style.top=-1e3):2===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.top=-1e3,this.dualButtonBGSVG1.style.left=a.x+"px",this.dualButtonBGSVG1.style.top=a.y-2+"px",this.dualButtonBGSVG2.style.top=-1e3):3===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.left=a.x-o/2-7+"px",this.singleButtonBGSVG.style.top=a.y-o/2+5+"px",this.dualButtonBGSVG1.style.left=a.x+o/4-1+"px",this.dualButtonBGSVG1.style.top=a.y+o/4+6+"px",this.dualButtonBGSVG2.style.top=-1e3):4===this.target.overlayButtons.settings.buttons.length&&(this.singleButtonBGSVG.style.top=-1e3,this.dualButtonBGSVG1.style.left=a.x+o/2-2+"px",this.dualButtonBGSVG1.style.top=a.y+o/2-5+"px",this.dualButtonBGSVG2.style.left=a.x-o/2+2+"px",this.dualButtonBGSVG2.style.top=a.y-o/2+0+"px")}else{var h=window.innerWidth,l=window.innerWidth,f=.02*l,u=.1*l;this.blackFrame.style.width=l-f+"px",this.blackFrame.style.height=l-f+"px",this.blackFrame.style.top=f/2+"px",this.blackFrame.style.left=f/2+"px";var c=(window.innerHeight-h-u)/2;this.target.virtualJoystick.domElement.style.left="25%",this.target.virtualJoystick.domElement.style.top="unset",this.target.virtualJoystick.domElement.style.bottom=c+"px",this.target.overlayButtons.domElement.style.right="19%",this.target.overlayButtons.domElement.style.left="unset",this.target.overlayButtons.domElement.style.top="unset",this.target.overlayButtons.domElement.style.bottom=c+"px",this.poweredByPokiSVG.style.top=l+10+"px",this.poweredByPokiSVG.style.right="unset",this.poweredByPokiSVG.style.left="10px",this.poweredByPokiSVG.style.width="12vh",this.poweredByPokiSVG.style.height="3vh",this.grill.style.top="-1000px";var d=this.target.overlayButtons.domElement.getBoundingClientRect(),p=this.target.overlayButtons.settings.buttonSize;1===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.left=d.x+"px",this.singleButtonBGSVG.style.top=d.y-2+"px",this.dualButtonBGSVG1.style.top=-1e3,this.dualButtonBGSVG2.style.top=-1e3):2===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.top=-1e3,this.dualButtonBGSVG1.style.left=d.x+"px",this.dualButtonBGSVG1.style.top=d.y-2+"px",this.dualButtonBGSVG2.style.top=-1e3):3===this.target.overlayButtons.settings.buttons.length?(this.singleButtonBGSVG.style.left=d.x-p/2-7+"px",this.singleButtonBGSVG.style.top=d.y-p/2+5+"px",this.dualButtonBGSVG1.style.left=d.x+p/4-1+"px",this.dualButtonBGSVG1.style.top=d.y+p/4+6+"px",this.dualButtonBGSVG2.style.top=-1e3):4===this.target.overlayButtons.settings.buttons.length&&(this.singleButtonBGSVG.style.top=-1e3,this.dualButtonBGSVG1.style.left=d.x+p/2-2+"px",this.dualButtonBGSVG1.style.top=d.y+p/2-5+"px",this.dualButtonBGSVG2.style.left=d.x-p/2+2+"px",this.dualButtonBGSVG2.style.top=d.y-p/2+0+"px")}}}]),t}()),o=/Mobi|Android/i.test(navigator.userAgent),u=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}();var c=function(){function s(t,i){var e=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,s),this.setUIVisibility=function(t){e.domElement.style.opacity=t?e.settings.defaultOpacity:e.settings.offOpacity,e.virtualJoystick.domElement.querySelector("svg").style.pointerEvents=t?"all":"none",e.virtualJoystick.domElement.style.filter=t?"unset":"grayscale(1.0)",e.settings.secondJoystickEnabled&&(e.secondVirtualJoystick.domElement.querySelector("svg").style.pointerEvents=t?"all":"none",e.secondVirtualJoystick.domElement.style.filter=t?"unset":"grayscale(1.0)"),e.overlayButtons.domElement.style.pointerEvents=t?"all":"none",e.overlayButtons.domElement.style.filter=t?"unset":"grayscale(1.0)",t&&(e.virtualJoystick.domElement.classList.remove("vjs-show"),e.virtualJoystick.domElement.offsetWidth,e.virtualJoystick.domElement.classList.add("vjs-show"),e.settings.secondJoystickEnabled&&(e.secondVirtualJoystick.domElement.classList.remove("vjs-show"),e.secondVirtualJoystick.domElement.offsetWidth,e.secondVirtualJoystick.domElement.classList.add("vjs-show")),e.overlayButtons.domElement.classList.remove("vjs-show"),e.overlayButtons.domElement.offsetWidth,e.overlayButtons.domElement.classList.add("vjs-show"))},this.triggerDomEvents=function(){var t=Object.keys(e.settings.keyBindings);t.forEach(function(t){if(void 0!==t&&"buttons"!==t&&e.virtualJoystick[t]()){var i=l[e.settings.keyBindings[t].toUpperCase()]||e.settings.keyBindings[t].charCodeAt(0);void 0===e.keysDown[i]&&e.triggerKeyEvent("keydown",i),e.keysDown[i]=e.tick}}),t.forEach(function(t){if(void 0!==t&&"buttons"!==t){var i=l[e.settings.keyBindings[t].toUpperCase()]||e.settings.keyBindings[t].charCodeAt(0);void 0!==e.keysDown[i]&&e.keysDown[i]!==e.tick&&(delete e.keysDown[i],e.triggerKeyEvent("keyup",i))}}),e.tick++},this.triggerKeyEvent=function(t,i){e.eventTargetElement.dispatchEvent(new KeyboardEvent(t,{keyCode:i})),"keydown"===t&&e.settings.vibration&&window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(e.settings.vibration)},this.settings={joyStickEnabled:!0,secondJoystickEnabled:!1,dpad:!1,secondDpad:!1,overlayButtonsEnabled:!0,mobileOnly:!0,keyBindings:{left:void 0,right:void 0,up:void 0,down:void 0,buttons:[]},buttonSize:50,joystickSize:50,colors:["#FFFFFF","#000","#83FFE7","#000"],lineThickness:2,vibration:25,eventTarget:"document",defaultOpacity:1,sleepOpacity:.5,sleepTimer:500,offOpacity:.2,gameplayEnable:!0},i?this.settings.mobileOnly&&!o||(this.settings=Object.assign({},this.settings,i),this.domElement=null,this.targetElement=t,this.eventTargetElement=null,this.rAF=null,this.keysDown={},this.virtualJoystick=null,this.secondVirtualJoystick=null,this.overlayButtons=null,this.tick=0,this.init()):alert("Settings required")}return u(s,[{key:"init",value:function(){var t=this,i=this.settings,e=i.eventTarget,s=i.joyStickEnabled,r=i.secondJoystickEnabled,n=i.overlayButtonsEnabled,a=i.skin,o=i.joystickSize,h=i.buttonSize,l=i.colors,f=i.keyBindings,u=i.lineThickness,c=i.dpad,d=i.secondDpad,p=i.defaultOpacity,v=i.sleepOpacity,w=i.sleepTimer;this.eventTargetElement="document"===e?document:"window"===e?window:"document.body"===e?document.body:document.querySelector(e),this.eventTargetElement||console.error("[PokiSDK Touch Overlay Controller] Invald eventTarget: "+e),this.domElement=document.createElement("div"),this.domElement.setAttribute("id","virtualJoystickHolder"),this.domElement.style.width="100%",this.domElement.style.height="100%",this.domElement.style.position="absolute",this.domElement.style.left="0",this.domElement.style.top="0",this.domElement.style.pointerEvents="none",this.domElement.style.zIndex=9999,this.domElement.style.touchAction="manipulation",document.body.addEventListener("touchmove",function(t){t._isScroller||t.preventDefault()},{passive:!1}),window.addEventListener("resize",function(){window.scrollTo(0,0),document.body.style.width=document.documentElement.style.width=t.domElement.style.width=window.innerWidth+"px",document.body.style.height=document.documentElement.style.height=t.domElement.style.height=window.innerHeight+"px"}),p&&(this.domElement.style.opacity=p),this.targetElement.appendChild(this.domElement),s&&(this.virtualJoystick=new x([[Math.round(o),u],[Math.round(.6*o),u]],this.domElement,!0,c,v,w),this.virtualJoystick.domElement.style.left=2*o+"px",this.virtualJoystick.domElement.style.top="unset",this.virtualJoystick.domElement.style.bottom=2*o+"px"),r&&(this.secondVirtualJoystick=new x([[Math.round(o),u],[Math.round(.6*o),u]],this.domElement,!0,d,v,w),this.secondVirtualJoystick.domElement.style.left="unset",this.secondVirtualJoystick.domElement.style.right=2*o+"px",this.secondVirtualJoystick.domElement.style.top="unset",this.secondVirtualJoystick.domElement.style.bottom=2*o+"px"),n&&(this.overlayButtons=new g(this.domElement,this.triggerKeyEvent,{buttons:f.buttons,buttonSize:h,buttonColor:l[2],lineThickness:u,sleepOpacity:v,sleepTimer:w}),this.overlayButtons.domElement.style.right=2*h-h/2+"px",this.overlayButtons.domElement.style.top="unset",this.overlayButtons.domElement.style.bottom=2*o+"px"),this.update(),a?this.loadSkin("./"+a):m.init(this),this.settings.gameplayEnable?this.createAnimations():this.setUIVisibility(!0),this.setCSS()}},{key:"update",value:function(){this.rAF=window.requestAnimationFrame(this.update.bind(this)),this.triggerDomEvents(),n.update()}},{key:"loadSkin",value:function(t){if(this.domElement)return n.setTarget(this),n.load(t)}},{key:"setCSS",value:function(){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent("\n\t\t\t.vjs-show > .black{\n\t\t\t\tanimation: arcadeFadeIn 0.25s linear 0s 1 normal ;\n\t\t\t}\n\t\t\t.vjs-show > .white{\n\t\t\t\tanimation: arcadeFadeIn 0.416s linear 0.25s 1 reverse;\n\t\t\t}\n\t\t\t@keyframes arcadeFadeIn {\n\t\t\t\t0%   {opacity: 0;}\n\t\t\t\t100%  {opacity: 100%;}\n\t\t\t  }\n\t\t\t*{\n\t\t\t\t-webkit-user-select: none;\n\t\t\t\t-webkit-touch-callout: none;\n\t\t\t\tuser-select: none;\n\t\t\t\t-webkit-tap-highlight-color: rgba(0,0,0,0);\n\t\t\t}\n\t\t")),document.head.appendChild(t)}},{key:"createAnimations",value:function(){var t=this;this.setUIVisibility(!1);var i=window.PokiSDK.gameplayStart;window.PokiSDK.gameplayStart=function(){t.setUIVisibility(!0),i()};var e=window.PokiSDK.gameplayStop;window.PokiSDK.gameplayStop=function(){t.setUIVisibility(!1),e()},this.virtualJoystick.domElement.style.transition="opacity 0.458s"}}]),s}();window.OverlayController=c}]);